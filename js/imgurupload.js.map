{"version":3,"sources":["imgurupload.js"],"names":["$","dzs","canResize","Uint8Array","FileReader","Image","document","createElement","base64ToFile","dataURI","origFile","byteString","mimestring","split","indexOf","atob","decodeURI","content","Array","i","length","charCodeAt","newFile","File","name","type","origProps","each","p","insertAtCursor","el","text","sel","startPos","endPos","selection","focus","createRange","selectionStart","selectionEnd","value","substring","getLinkCode","data","response","thumbnail","url","link","replace","resize","gdn","definition","val","join","toLowerCase","width","height","getDropzoneConfig","ta","previewCtx","clickable","sending","queuecomplete","success","file","alert","autoQueue","autoProcessQueue","acceptedFiles","paramName","method","maxFilesize","maxFiles","previewsContainer","thumbnailWidth","thumbnailHeight","fallback","headers","Authorization","Accept","initResizing","dz","on","reader","MAX_WIDTH","Number","MAX_HEIGHT","addEventListener","e","origImg","src","target","result","dzIdx","enqueueFile","canvas","getContext","drawImage","resizedFile","toDataURL","origFileIndex","files","readAsDataURL","initTextarea","fileInput","form","parents","submitBtn","find","last","class","attr","after","push","Dropzone","window","preventDefault","before","empty","items","originalEvent","clipboardData","kind","addFile","getAsFile","dataTransfer","getData","stopPropagation","match","this","jQuery"],"mappings":"CAmBC,SAAWA,GAEX,YAGA,IAAIC,MAGAC,EAAoC,kBAAfC,aACC,kBAAfC,aACU,kBAAVC,QACqC,gBAArCC,UAASC,cAAc,UAE9BC,EAAe,SAAUC,EAASC,GACrC,GAAIC,GAAYC,CAGhB,KAAMV,EAAY,OAAO,CAIxBS,GAFIF,EAAQI,MAAM,KAAK,GAAGC,QAAQ,aAAc,EAEnCC,KAAKN,EAAQI,MAAM,KAAK,IAIxBG,UAAUP,EAAQI,MAAM,KAAK,IAI3CD,EAAaH,EAAQI,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAAK,EAI5D,KAAM,GAFFI,GAAU,GAAIC,OAERC,EAAI,EAAGA,EAAIR,EAAWS,OAAQD,IAEvCF,EAAQE,GAAKR,EAAWU,WAAWF,EAIpC,IAAIG,GAAU,GAAIC,OAChB,GAAIpB,YAAWc,IAAWP,EAASc,MAAOC,KAAMb,IAM9Cc,GACH,SAAU,SAAU,iBAAkB,kBAAmB,WAS1D,OANA1B,GAAE2B,KAAMD,EAAW,SAASP,EAAGS,GAE9BN,EAAQM,GAAKlB,EAASkB,KAIhBN,GAKJO,EAAiB,SAAWC,EAAIC,GAEnC,GAAIC,GAAKC,EAAUC,CAEnBH,IAAc,KAGTzB,SAAS6B,WAEbL,EAAGM,QACHJ,EAAM1B,SAAS6B,UAAUE,cACzBL,EAAID,KAAOA,GAEAD,EAAGQ,gBAAuC,KAArBR,EAAGQ,gBAEnCL,EAAWH,EAAGQ,eACdJ,EAASJ,EAAGS,aACZT,EAAGU,MAAQV,EAAGU,MAAMC,UAAU,EAAGR,GAAYF,EAC5CD,EAAGU,MAAMC,UAAUP,EAAQJ,EAAGU,MAAMpB,SAIrCU,EAAGU,OAAST,GAQVW,EAAc,SAAWC,GAE5B,GAAIC,GAAUC,EACbC,EAAMH,EAAKI,KAAKC,QAAS,UAAW,UACpCC,EAA8C,MAAnCC,IAAIC,WAAW,gBAC1B1B,EAAOzB,EAAG,gBAAiBoD,KAU5B,QARKH,IAEJJ,EAAYC,EAAIjC,MAAO,KACvBgC,EAAWA,EAAUzB,OAAS,IAAO,IACrCyB,EAAYA,EAAUQ,KAAK,MAInB5B,EAAK6B,eACb,IAAK,SACJV,EAAaK,EAAS,QAAUH,EAAM,SAAWD,EAAY,eAAiB,QAAUC,EAAM,QAC9F,MAED,KAAK,WACJF,EAAaK,EAAS,QAAUJ,EAAY,MAAQC,EAAM,IAAM,OAASA,EAAM,GAC/E,MAED,KAAK,OAGHF,EADIK,EACO,YAAcH,EAAM,6BAA+BD,EAAY,kBAE/D,aAAeC,EAAM,mBAAqBH,EAAKY,MAAQ,aAAeZ,EAAKa,OAAS,MAGhG,MAED,SACCZ,EAAWE,EAKb,MAAOF,IAIJa,EAAoB,SAAWC,EAAIC,EAAYC,GAElD,OACCC,QAAS,aAGTC,cAAe,aAGfC,QAAS,SAAWC,EAAMpB,GACpBA,EAASmB,QACblC,EAAgB6B,EAAG,GAAIhB,EAAYE,EAASD,OAG5CsB,MAAO,6JAKHC,WAAYhE,EAClBiE,kBAAmBjE,EAEnBkE,cAAe,UACfC,UAAW,QACXT,UAAWA,EACXU,OAAQ,OACRC,YAAa,GACbC,SAAU,GACVC,kBAAmBd,EAAW,GAC9Be,eAAgB,GAChBC,gBAAiB,GACjBC,SAAU,aACV9B,IAAK,iCACL+B,SACCC,cAAe,aAAe5B,IAAIC,WAAW,iBAC7C4B,OAAQ,sBAMPC,EAAe,SAAWC,GAG7BA,EAAGC,GAAI,YAAa,SAASxE,GAE5B,GAAIyE,GAAS,GAAI/E,YAChBgF,EAAYC,OAAQnC,IAAIC,WAAW,kBAAoB,EACvDmC,EAAaD,OAAQnC,IAAIC,WAAY,mBAAqB,CAE3DgC,GAAOI,iBAAkB,OAAQ,SAAWC,GAE3C,GAAIC,GAAU,GAAIpF,MAClBoF,GAAQC,IAAMF,EAAEG,OAAOC,OAEvBH,EAAQF,iBAAkB,OAAQ,SAAWC,GAE5C,GAAIjC,GAAQiC,EAAEG,OAAOpC,MACpBC,EAASgC,EAAEG,OAAOnC,MAInB,KAAM4B,GAAa,GAAK7B,GAAS6B,KAAeE,GAAc,GAAK9B,GAAU8B,GAG5E,WADArF,GAAI4F,OAAOC,YAAapF,EAMpB6C,GAAQC,EACPD,EAAQ6B,IACZ5B,GAAU4B,EAAY7B,EACtBA,EAAQ6B,GAGJ5B,EAAS8B,IACb/B,GAAS+B,EAAc9B,EACvBA,EAAS8B,EAKX,IAAIS,GAASzF,SAASC,cAAe,SACrCwF,GAAOxC,MAAQA,EACfwC,EAAOvC,OAASA,EAENuC,EAAOC,WAAY,MAGzBC,UAAWR,EAAS,EAAG,EAAGlC,EAAOC,EAGrC,IAAI0C,GAAc1F,EAAcuF,EAAOI,UAAU,cAAezF,GAE5D0F,EAAgBnB,EAAGoB,MAAMvF,QAASJ,EAEtCuE,GAAGoB,MAAOD,GAAkBF,EAE5BjB,EAAGa,YAAaI,OAOlBf,EAAOmB,cAAe5F,MAKpB6F,EAAe,SAAW7C,GAE7B,GAAI8C,GACHC,EAAO/C,EAAGgD,QAAS,QACnBb,GAAQ,EACRc,EAAYF,EAAKG,KAAM,iBAAkBC,OACzClD,EAAa3D,EAAE,UACd8G,MAAS,6BAINpD,GAAGtC,SAIPsC,EAAGqD,KAAM,cAAe,4GACxBrD,EAAGsD,MAAOrD,GAGgC,MAArCT,IAAIC,WAAW,oBAEnBlD,EAAIgH,KAAM,GAAIC,UAASxD,EAAG,GAAID,EAAkBC,EAAIC,GAAY,KAChEkC,EAAQ5F,EAAImB,OAAS,EACrB4D,EAAc/E,EAAIA,EAAImB,OAAS,MAQ3B,gBAAkB+F,SAA8C,MAApCjE,IAAIC,WAAW,oBAE/CO,EAAGqD,KAAM,cAAe,IACxBP,EAAYxG,EAAG,6DACbkF,GAAI,QAAS,SAAWM,GAAMA,EAAE4B,mBAClCT,EAAUU,OAAQb,GAClBvG,EAAIgH,KAAM,GAAIC,UAASV,EAAU,GAAI/C,EAAkBC,EAAIC,GAAY,KACvEqB,EAAc/E,EAAIA,EAAImB,OAAS,KAKhCuF,EAAUzB,GAAI,QAAS,WAEtBvB,EAAW2D,UAIPzB,GAAQ,GAGZnC,EAAGwB,GAAI,QAAS,SAAWM,GAE1B,GAAIrE,GAAGoG,EAAQ/B,EAAEgC,cAAcC,cAAcF,KAG7C,KAAMpG,EAAI,EAAGA,EAAIoG,EAAMnG,OAAQD,IAGP,SAAlBoG,EAAMpG,GAAGuG,MAAmBH,EAAMpG,GAAGM,KAAKX,QAAQ,WAAY,GAGlEb,EAAI4F,GAAO8B,QAASJ,EAAMpG,GAAGyG,eAYW,MAAvC1E,IAAIC,WAAW,qBAEnBO,EAAGwB,GAAI,OAAQ,SAAWM,GAEzB,GAAI7C,GAAO6C,EAAEgC,cAAcK,aAAaC,QAAQ,MAE3CnF,GAAKvB,SAEToE,EAAE4B,iBACF5B,EAAEuC,kBAEGpF,EAAKqF,MAAM,6CAEfnG,EAAgB6B,EAAG,GAAIhB,GAAaK,KAAMJ,KAK1Cd,EAAgB6B,EAAG,GAAIf,OAc7B3C,GAAE,WAIDuG,EAFSvG,EAAG,eAMZA,EAAGM,UAAW4E,GAAI,wBAAyB,WAK1ClF,EAAG,oBAAqB4G,KAAM,YAAajF,KAAM,WAEhD4E,EAAcvG,EAAEiI,cAQjBC","file":"imgurupload.min.js"}