{"version":3,"sources":["imgurupload.js"],"names":["$","dzs","canResize","Uint8Array","FileReader","Image","document","createElement","base64ToFile","dataURI","origFile","byteString","mimestring","split","indexOf","atob","decodeURI","content","Array","i","length","charCodeAt","newFile","File","name","type","origProps","each","p","insertAtCursor","el","text","sel","startPos","endPos","selection","focus","createRange","selectionStart","selectionEnd","value","substring","getLinkCode","data","response","thumbnail","url","link","replace","resize","gdn","definition","val","join","toLowerCase","width","height","getDropzoneConfig","ta","previewCtx","clickable","sending","queuecomplete","success","file","alert","autoQueue","acceptedFiles","paramName","method","maxFilesize","maxFiles","previewsContainer","thumbnailWidth","thumbnailHeight","fallback","headers","Authorization","Accept","initResizing","dz","on","reader","MAX_WIDTH","Number","MAX_HEIGHT","addEventListener","e","origImg","src","target","result","dzIdx","enqueueFile","canvas","getContext","drawImage","resizedFile","toDataURL","origFileIndex","files","readAsDataURL","initTextarea","fileInput","form","parents","submitBtn","find","last","class","attr","after","push","Dropzone","window","preventDefault","before","empty","items","originalEvent","clipboardData","kind","addFile","getAsFile","dataTransfer","getData","stopPropagation","match","this","jQuery"],"mappings":"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","file":"imgurupload.min.js"}